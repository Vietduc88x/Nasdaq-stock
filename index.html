<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Tracker Pro - Stocks & Crypto</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="savings-styles.css">
    <link rel="stylesheet" href="savings-styles-v2.css">
    <link rel="stylesheet" href="commodities-styles.css">
    <!-- Chart.js for price charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="main-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">üìä</div>
                    <div>
                        <h1 class="main-title">Market Tracker Pro</h1>
                        <p class="main-subtitle">Real-time market data at your fingertips</p>
                    </div>
                </div>
                <div class="header-actions">
                    <span class="last-updated">
                        <span class="update-label">Last updated:</span>
                        <span id="lastUpdated" class="update-time">Never</span>
                    </span>
                    <button id="refreshBtn" class="refresh-btn">
                        <span class="refresh-icon">üîÑ</span>
                        <span>Refresh</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="content-wrapper">
            <!-- Tab Navigation -->
            <nav class="tab-navigation">
                <button class="tab-btn active" data-tab="stocks">
                    <span class="tab-icon">üìà</span>
                    <span class="tab-label">Stocks Market</span>
                    <span class="tab-count">100</span>
                </button>
                <button class="tab-btn" data-tab="crypto">
                    <span class="tab-icon">‚Çø</span>
                    <span class="tab-label">Crypto Market</span>
                    <span class="tab-count">100</span>
                </button>
                <button class="tab-btn" data-tab="commodities">
                    <span class="tab-icon gold-icon">‚óè</span>
                    <span class="tab-label">Commodities</span>
                    <span class="tab-count">22</span>
                </button>
                <button class="tab-btn" data-tab="savings">
                    <span class="tab-icon">üí∞</span>
                    <span class="tab-label">Saving Methodology</span>
                    <span class="tab-count">Plan</span>
                </button>
                <div class="tab-indicator"></div>
            </nav>

            <!-- Tab Content -->
            <div class="tab-content-area">
                <!-- Stocks Tab Content -->
                <div id="stocks-tab" class="tab-content active">
                    <div class="content-header">
                        <div class="content-title">
                            <h2>Top 100 Nasdaq Stocks</h2>
                            <p class="content-description">Market leaders by capitalization</p>
                        </div>
                        <div class="view-options">
                            <span class="total-items">Showing 100 stocks</span>
                        </div>
                    </div>
                    <div id="stocksContainer" class="market-grid">
                        <div class="loading-spinner">
                            <div class="spinner"></div>
                            <p>Loading market data...</p>
                        </div>
                    </div>
                </div>

                <!-- Crypto Tab Content -->
                <div id="crypto-tab" class="tab-content">
                    <div class="content-header">
                        <div class="content-title">
                            <h2>Top 100 Cryptocurrencies</h2>
                            <p class="content-description">Leading digital assets by market cap</p>
                        </div>
                        <div class="view-options">
                            <span class="total-items">Showing 100 cryptocurrencies</span>
                        </div>
                    </div>
                    <div id="cryptoContainer" class="market-grid">
                        <div class="loading-spinner">
                            <div class="spinner"></div>
                            <p>Loading cryptocurrency data...</p>
                        </div>
                    </div>
                </div>

                <!-- Savings Methodology Tab Content -->
                <div id="savings-tab" class="tab-content">
                    <div class="content-header">
                        <div class="content-title">
                            <h2>üí∞ Smart Saving Methodology</h2>
                            <p class="content-description">Build your path to financial freedom with intelligent money allocation</p>
                        </div>
                    </div>

                    <!-- Visual Flow Diagram -->
                    <div class="flow-diagram-container">
                        <div class="flow-step">
                            <div class="flow-step-number">1</div>
                            <div class="flow-step-content">
                                <div class="flow-step-icon">üíµ</div>
                                <h4>Your Income</h4>
                                <p>Enter your monthly earnings</p>
                            </div>
                        </div>
                        <div class="flow-arrow-right">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">2</div>
                            <div class="flow-step-content">
                                <div class="flow-step-icon">üìä</div>
                                <h4>Allocate Wisely</h4>
                                <p>Set spending & savings %</p>
                            </div>
                        </div>
                        <div class="flow-arrow-right">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">3</div>
                            <div class="flow-step-content">
                                <div class="flow-step-icon">üéØ</div>
                                <h4>Build Safety Net</h4>
                                <p>Emergency & future goals</p>
                            </div>
                        </div>
                        <div class="flow-arrow-right">‚Üí</div>
                        <div class="flow-step">
                            <div class="flow-step-number">4</div>
                            <div class="flow-step-content">
                                <div class="flow-step-icon">üìà</div>
                                <h4>Invest & Grow</h4>
                                <p>Rebalance portfolio</p>
                            </div>
                        </div>
                    </div>

                    <div class="savings-container">
                        <!-- Step 1: Income Input -->
                        <div class="savings-card step-card">
                            <div class="step-header">
                                <span class="step-badge">Step 1</span>
                                <h3 class="card-title">üíµ Enter Your Monthly Income</h3>
                            </div>
                            <div class="income-input-row">
                                <div class="input-group-inline">
                                    <label for="monthlyIncome">üíº Primary Income</label>
                                    <div class="input-with-currency">
                                        <span class="currency-symbol">$</span>
                                        <input type="number" id="monthlyIncome" placeholder="3,000" value="3000">
                                    </div>
                                </div>
                                <div class="input-group-inline">
                                    <label for="otherIncome">üí∞ Other Income</label>
                                    <div class="input-with-currency">
                                        <span class="currency-symbol">$</span>
                                        <input type="number" id="otherIncome" placeholder="500" value="500">
                                    </div>
                                </div>
                                <div class="total-income-display">
                                    <div class="total-label">Total Monthly Income</div>
                                    <div class="total-value" id="totalIncome">$3,500</div>
                                </div>
                            </div>
                        </div>
<!-- Step 2: Monthly Expenses & Allocation -->
<div class="savings-card step-card">
    <div class="step-header">
        <span class="step-badge">Step 2</span>
        <h3 class="card-title">üìä Set Your Monthly Expenses</h3>
    </div>
    <p class="step-description">Enter your actual monthly expenses to calculate recommended allocations</p>

    <div class="expenses-input-grid">
        <div class="expense-item">
            <label for="livingExpenses">üè† Living Expenses</label>
            <div class="input-with-currency">
                <span class="currency-symbol">$</span>
                <input type="number" id="livingExpenses" placeholder="800" value="800">
            </div>
            <span class="expense-hint">Rent, utilities, food</span>
        </div>

        <div class="expense-item">
            <label for="transportExpenses">üöó Transportation</label>
            <div class="input-with-currency">
                <span class="currency-symbol">$</span>
                <input type="number" id="transportExpenses" placeholder="200" value="200">
            </div>
            <span class="expense-hint">Car, fuel, public transport</span>
        </div>

        <div class="expense-item">
            <label for="discretionaryExpenses">üé¨ Discretionary</label>
            <div class="input-with-currency">
                <span class="currency-symbol">$</span>
                <input type="number" id="discretionaryExpenses" placeholder="300" value="300">
            </div>
            <span class="expense-hint">Entertainment, dining</span>
        </div>

        <div class="expense-item">
            <label for="otherExpenses">üì¶ Other Expenses</label>
            <div class="input-with-currency">
                <span class="currency-symbol">$</span>
                <input type="number" id="otherExpenses" placeholder="200" value="200">
            </div>
            <span class="expense-hint">Insurance, subscriptions</span>
        </div>
    </div>

    <div class="total-expenses-bar">
        <div class="expenses-breakdown">
            <span class="expenses-label">Total Monthly Expenses:</span>
            <span class="expenses-value" id="totalExpenses">$1,500</span>
        </div>
        <div class="savings-available">
            <span class="savings-label">Available for Savings:</span>
            <span class="savings-value" id="availableSavings">$2,000</span>
        </div>
    </div>
</div>

<!-- Step 3: Smart Allocation Recommendations -->
<div class="savings-card step-card highlight">
    <div class="step-header">
        <span class="step-badge">Step 3</span>
        <h3 class="card-title">üéØ Smart Money Allocation</h3>
    </div>
    <p class="step-description">Drag sliders to allocate your available savings ($<span id="availableForAllocation">2,000</span>/month)</p>

    <div class="allocation-sliders">
        <div class="slider-item">
            <div class="slider-header">
                <label>üö® Emergency Fund Contribution</label>
                <div class="slider-values">
                    <span class="slider-percent" id="emergencyPercent">60%</span>
                    <span class="slider-amount" id="emergencyAmount">$1,200</span>
                </div>
            </div>
            <input type="range" id="emergencySlider" min="0" max="100" value="60" step="1">
            <div class="slider-guide">
                <span>0%</span>
                <span class="recommended-marker">Recommended: 50-70%</span>
                <span>100%</span>
            </div>
        </div>

        <div class="slider-item">
            <div class="slider-header">
                <label>üéØ Future Goals (Sinking Funds)</label>
                <div class="slider-values">
                    <span class="slider-percent" id="sinkingPercent">20%</span>
                    <span class="slider-amount" id="sinkingAmount">$400</span>
                </div>
            </div>
            <input type="range" id="sinkingSlider" min="0" max="100" value="20" step="1">
            <div class="slider-guide">
                <span>0%</span>
                <span class="recommended-marker">Recommended: 10-30%</span>
                <span>100%</span>
            </div>
        </div>

        <div class="slider-item">
            <div class="slider-header">
                <label>üìà Investment Portfolio</label>
                <div class="slider-values">
                    <span class="slider-percent" id="investmentPercent">20%</span>
                    <span class="slider-amount" id="investmentAmount">$400</span>
                </div>
            </div>
            <input type="range" id="investmentSlider" min="0" max="100" value="20" step="1">
            <div class="slider-guide">
                <span>0%</span>
                <span class="recommended-marker">Recommended: 15-40%</span>
                <span>100%</span>
            </div>
        </div>
    </div>

    <div class="allocation-status">
        <div class="status-bar">
            <div class="status-fill" id="allocationBar"></div>
        </div>
        <div class="status-text">
            <span id="allocationStatus">Allocated: 100%</span>
            <span id="unallocatedAmount" class="success">$0 unallocated</span>
        </div>
    </div>
</div>

<!-- Step 4: Financial Goals Summary -->
<div class="savings-card">
    <h3 class="card-title">üìã Your Financial Goals - Auto Calculated</h3>
    <p class="goal-intro">Based on your monthly expenses of $<span id="expensesForGoals">1,500</span></p>

    <div class="goals-table">
        <div class="goal-row header-row">
            <div class="goal-col">Goal</div>
            <div class="goal-col">Formula</div>
            <div class="goal-col">Target Amount</div>
            <div class="goal-col">Monthly Contribution</div>
            <div class="goal-col">Time to Reach</div>
        </div>

        <div class="goal-row emergency-row">
            <div class="goal-col">
                <div class="goal-name">üö® Emergency Fund</div>
                <div class="goal-subtitle">Essential safety net</div>
            </div>
            <div class="goal-col">
                <div class="formula">3-6 months of expenses</div>
            </div>
            <div class="goal-col">
                <div class="target-amount" id="emergencyTarget">$9,000</div>
                <div class="target-range">(6 months √ó $1,500)</div>
            </div>
            <div class="goal-col">
                <div class="contribution" id="emergencyContribution">$1,200</div>
            </div>
            <div class="goal-col">
                <div class="time-to-reach" id="emergencyTime">8 months</div>
            </div>
        </div>

        <div class="goal-row sinking-row">
            <div class="goal-col">
                <div class="goal-name">üéØ Sinking Funds</div>
                <div class="goal-subtitle">Future major purchases</div>
            </div>
            <div class="goal-col">
                <div class="formula">User defined goal</div>
            </div>
            <div class="goal-col">
                <div class="input-with-currency small">
                    <span class="currency-symbol">$</span>
                    <input type="number" id="sinkingGoal" value="5000" placeholder="5000">
                </div>
            </div>
            <div class="goal-col">
                <div class="contribution" id="sinkingContribution">$400</div>
            </div>
            <div class="goal-col">
                <div class="time-to-reach" id="sinkingTime">12 months</div>
            </div>
        </div>

        <div class="goal-row security-row">
            <div class="goal-col">
                <div class="goal-name">üõ°Ô∏è Financial Security</div>
                <div class="goal-subtitle">Complete freedom from worry</div>
            </div>
            <div class="goal-col">
                <div class="formula">12 months of expenses</div>
            </div>
            <div class="goal-col">
                <div class="target-amount" id="securityTarget">$18,000</div>
                <div class="target-range">(12 months √ó $1,500)</div>
            </div>
            <div class="goal-col">
                <div class="contribution">-</div>
            </div>
            <div class="goal-col">
                <div class="time-to-reach">After emergency fund</div>
            </div>
        </div>

        <div class="goal-row independence-row">
            <div class="goal-col">
                <div class="goal-name">üéì Financial Independence</div>
                <div class="goal-subtitle">4% withdrawal rule (FIRE)</div>
            </div>
            <div class="goal-col">
                <div class="formula">25√ó annual expenses</div>
            </div>
            <div class="goal-col">
                <div class="target-amount" id="independenceTarget">$450,000</div>
                <div class="target-range">(25 √ó $18,000/year)</div>
            </div>
            <div class="goal-col">
                <div class="contribution" id="investmentContribution">$400</div>
            </div>
            <div class="goal-col">
                <div class="time-to-reach" id="independenceTime">~30 years*</div>
            </div>
        </div>
    </div>

    <div class="goals-footnote">
        *Assuming 7% average annual return from investments
    </div>
</div>

<!-- Investment Portfolio -->
<div class="savings-card">
    <h3 class="card-title">üìà Investment Portfolio Allocation</h3>
    <p class="step-description">Track your current investments and get smart rebalancing recommendations</p>

    <div class="portfolio-input-grid">
        <div class="portfolio-input-item">
            <label>‚Çø Cryptocurrency</label>
            <div class="input-with-currency">
                <span class="currency-symbol">$</span>
                <input type="number" id="cryptoValue" placeholder="0" value="0">
            </div>
        </div>
        <div class="portfolio-input-item">
            <label>üìä Stocks & ETFs</label>
            <div class="input-with-currency">
                <span class="currency-symbol">$</span>
                <input type="number" id="stockValue" placeholder="0" value="0">
            </div>
        </div>
        <div class="portfolio-input-item">
            <label>üè† Real Estate</label>
            <div class="input-with-currency">
                <span class="currency-symbol">$</span>
                <input type="number" id="realEstateValue" placeholder="0" value="0">
            </div>
        </div>
        <div class="portfolio-input-item">
            <label>üè¶ Bonds & Cash</label>
            <div class="input-with-currency">
                <span class="currency-symbol">$</span>
                <input type="number" id="bondsValue" placeholder="0" value="0">
            </div>
        </div>
    </div>

    <div class="portfolio-summary-box">
        <div class="portfolio-total">
            <span>Total Portfolio Value:</span>
            <strong id="totalPortfolioValue">$0</strong>
        </div>
        <div class="portfolio-chart" id="portfolioChart">
            <!-- Pie chart visualization will go here -->
            <div class="portfolio-breakdown">
                <div class="breakdown-item">
                    <span class="breakdown-color crypto-color"></span>
                    <span class="breakdown-label">Crypto</span>
                    <span class="breakdown-percent" id="cryptoPercent">0%</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-color stocks-color"></span>
                    <span class="breakdown-label">Stocks</span>
                    <span class="breakdown-percent" id="stocksPercent">0%</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-color real-estate-color"></span>
                    <span class="breakdown-label">Real Estate</span>
                    <span class="breakdown-percent" id="realEstatePercent">0%</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-color bonds-color"></span>
                    <span class="breakdown-label">Bonds/Cash</span>
                    <span class="breakdown-percent" id="bondsPercent">0%</span>
                </div>
            </div>
        </div>
        <div class="rebalance-recommendation" id="rebalanceRec">
            <strong>üí° Recommendation:</strong>
            <span id="rebalanceText">Enter your portfolio values to get personalized recommendations</span>
        </div>
    </div>
</div>

<!-- Monthly Summary Dashboard -->
<div class="savings-card summary-card">
    <h3 class="card-title">üìä Monthly Cash Flow Summary</h3>

    <div class="summary-dashboard">
        <div class="summary-column">
            <div class="summary-header">Income</div>
            <div class="summary-amount success" id="summaryIncome">$3,500</div>
        </div>

        <div class="summary-arrow">‚Üí</div>

        <div class="summary-column">
            <div class="summary-header">Total Expenses</div>
            <div class="summary-amount" id="summaryExpenses">$1,500</div>
            <div class="summary-details">
                <div>Living: $<span id="summaryLiving">800</span></div>
                <div>Transport: $<span id="summaryTransport">200</span></div>
                <div>Discretionary: $<span id="summaryDiscretionary">300</span></div>
                <div>Other: $<span id="summaryOtherExp">200</span></div>
            </div>
        </div>

        <div class="summary-arrow">‚Üí</div>

        <div class="summary-column">
            <div class="summary-header">Savings Allocation</div>
            <div class="summary-amount primary" id="summarySavings">$2,000</div>
            <div class="summary-details">
                <div>Emergency: $<span id="summaryEmergency">1,200</span></div>
                <div>Goals: $<span id="summarySinking">400</span></div>
                <div>Investments: $<span id="summaryInvestment">400</span></div>
            </div>
        </div>
    </div>

    <div class="savings-rate-display">
        <span class="savings-rate-label">Your Savings Rate:</span>
        <span class="savings-rate-value" id="savingsRate">57%</span>
        <span class="savings-rate-desc" id="savingsRateDesc">Excellent! You're on track to financial independence</span>
    </div>
</div>
                    </div>
                </div>

                <!-- Commodities Tab Content -->
                <div id="commodities-tab" class="tab-content">
                    <div class="content-header">
                        <div class="content-title">
                            <h2>Commodities & Precious Metals</h2>
                            <p class="content-description">Track Gold, Silver, and other valuable assets</p>
                        </div>
                        <div class="view-options">
                            <span class="total-items">Showing 22 commodities</span>
                        </div>
                    </div>

                    <!-- Featured Precious Metals -->
                    <div class="commodities-featured">
                        <div class="featured-card gold-card" id="goldCard">
                            <div class="featured-icon">ü•á</div>
                            <div class="featured-info">
                                <h3>Gold</h3>
                                <span class="featured-symbol">XAU/USD</span>
                            </div>
                            <div class="featured-price">
                                <span class="price" id="goldPrice">$4,895.00</span>
                                <span class="change positive" id="goldChange">+0.45%</span>
                            </div>
                        </div>
                        <div class="featured-card silver-card" id="silverCard">
                            <div class="featured-icon">ü•à</div>
                            <div class="featured-info">
                                <h3>Silver</h3>
                                <span class="featured-symbol">XAG/USD</span>
                            </div>
                            <div class="featured-price">
                                <span class="price" id="silverPrice">$85.31</span>
                                <span class="change positive" id="silverChange">+0.32%</span>
                            </div>
                        </div>
                        <div class="featured-card platinum-card" id="platinumCard">
                            <div class="featured-icon">‚ö™</div>
                            <div class="featured-info">
                                <h3>Platinum</h3>
                                <span class="featured-symbol">XPT/USD</span>
                            </div>
                            <div class="featured-price">
                                <span class="price" id="platinumPrice">$1,320.00</span>
                                <span class="change negative" id="platinumChange">-0.18%</span>
                            </div>
                        </div>
                        <div class="featured-card palladium-card" id="palladiumCard">
                            <div class="featured-icon">üîò</div>
                            <div class="featured-info">
                                <h3>Palladium</h3>
                                <span class="featured-symbol">XPD/USD</span>
                            </div>
                            <div class="featured-price">
                                <span class="price" id="palladiumPrice">$1,180.00</span>
                                <span class="change positive" id="palladiumChange">+0.65%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Commodities Categories -->
                    <div class="commodities-categories">
                        <div class="category-section">
                            <h3 class="category-title">‚õΩ Energy</h3>
                            <div id="energyContainer" class="commodities-grid">
                                <div class="loading-spinner small">
                                    <div class="spinner"></div>
                                </div>
                            </div>
                        </div>

                        <div class="category-section">
                            <h3 class="category-title">üåæ Agriculture</h3>
                            <div id="agricultureContainer" class="commodities-grid">
                                <div class="loading-spinner small">
                                    <div class="spinner"></div>
                                </div>
                            </div>
                        </div>

                        <div class="category-section">
                            <h3 class="category-title">üî© Industrial Metals</h3>
                            <div id="metalsContainer" class="commodities-grid">
                                <div class="loading-spinner small">
                                    <div class="spinner"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Data provided by TVC (TradingView) & CoinGecko API</p>
        </footer>
    </div>

    <!-- Chart Popup -->
    <div id="chartPopup" class="chart-popup" style="display: none;">
        <div class="chart-popup-header">
            <div class="chart-popup-title">
                <span id="chartAssetName"></span>
                <span id="chartAssetSymbol"></span>
            </div>
            <div id="chartAssetPrice"></div>
        </div>
        <div class="chart-stats">
            <div class="stat-item">
                <span class="stat-label">High</span>
                <span id="chartHigh" class="stat-value high">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Low</span>
                <span id="chartLow" class="stat-value low">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Change</span>
                <span id="chartChange" class="stat-value">-</span>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="priceChart"></canvas>
        </div>
        <div class="chart-popup-footer">
            <span>24H Chart</span>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="savings-calc-v2.js"></script>
    <script src="commodities.js"></script>
</body>
</html>
