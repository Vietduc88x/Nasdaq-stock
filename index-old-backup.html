<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Tracker Pro - Stocks & Crypto</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="savings-styles.css">
    <!-- Chart.js for price charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="main-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">ðŸ“Š</div>
                    <div>
                        <h1 class="main-title">Market Tracker Pro</h1>
                        <p class="main-subtitle">Real-time market data at your fingertips</p>
                    </div>
                </div>
                <div class="header-actions">
                    <span class="last-updated">
                        <span class="update-label">Last updated:</span>
                        <span id="lastUpdated" class="update-time">Never</span>
                    </span>
                    <button id="refreshBtn" class="refresh-btn">
                        <span class="refresh-icon">ðŸ”„</span>
                        <span>Refresh</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="content-wrapper">
            <!-- Tab Navigation -->
            <nav class="tab-navigation">
                <button class="tab-btn active" data-tab="stocks">
                    <span class="tab-icon">ðŸ“ˆ</span>
                    <span class="tab-label">Stocks Market</span>
                    <span class="tab-count">100</span>
                </button>
                <button class="tab-btn" data-tab="crypto">
                    <span class="tab-icon">â‚¿</span>
                    <span class="tab-label">Crypto Market</span>
                    <span class="tab-count">100</span>
                </button>
                <button class="tab-btn" data-tab="savings">
                    <span class="tab-icon">ðŸ’°</span>
                    <span class="tab-label">Saving Methodology</span>
                    <span class="tab-count">Plan</span>
                </button>
                <div class="tab-indicator"></div>
            </nav>

            <!-- Tab Content -->
            <div class="tab-content-area">
                <!-- Stocks Tab Content -->
                <div id="stocks-tab" class="tab-content active">
                    <div class="content-header">
                        <div class="content-title">
                            <h2>Top 100 Nasdaq Stocks</h2>
                            <p class="content-description">Market leaders by capitalization</p>
                        </div>
                        <div class="view-options">
                            <span class="total-items">Showing 100 stocks</span>
                        </div>
                    </div>
                    <div id="stocksContainer" class="market-grid">
                        <div class="loading-spinner">
                            <div class="spinner"></div>
                            <p>Loading market data...</p>
                        </div>
                    </div>
                </div>

                <!-- Crypto Tab Content -->
                <div id="crypto-tab" class="tab-content">
                    <div class="content-header">
                        <div class="content-title">
                            <h2>Top 100 Cryptocurrencies</h2>
                            <p class="content-description">Leading digital assets by market cap</p>
                        </div>
                        <div class="view-options">
                            <span class="total-items">Showing 100 cryptocurrencies</span>
                        </div>
                    </div>
                    <div id="cryptoContainer" class="market-grid">
                        <div class="loading-spinner">
                            <div class="spinner"></div>
                            <p>Loading cryptocurrency data...</p>
                        </div>
                    </div>
                </div>

                <!-- Savings Methodology Tab Content -->
                <div id="savings-tab" class="tab-content">
                    <div class="content-header">
                        <div class="content-title">
                            <h2>ðŸ’° Smart Saving Methodology</h2>
                            <p class="content-description">Build your path to financial freedom with intelligent money allocation</p>
                        </div>
                    </div>

                    <!-- Visual Flow Diagram -->
                    <div class="flow-diagram-container">
                        <div class="flow-step">
                            <div class="flow-step-number">1</div>
                            <div class="flow-step-content">
                                <div class="flow-step-icon">ðŸ’µ</div>
                                <h4>Your Income</h4>
                                <p>Enter your monthly earnings</p>
                            </div>
                        </div>
                        <div class="flow-arrow-right">â†’</div>
                        <div class="flow-step">
                            <div class="flow-step-number">2</div>
                            <div class="flow-step-content">
                                <div class="flow-step-icon">ðŸ“Š</div>
                                <h4>Allocate Wisely</h4>
                                <p>Set spending & savings %</p>
                            </div>
                        </div>
                        <div class="flow-arrow-right">â†’</div>
                        <div class="flow-step">
                            <div class="flow-step-number">3</div>
                            <div class="flow-step-content">
                                <div class="flow-step-icon">ðŸŽ¯</div>
                                <h4>Build Safety Net</h4>
                                <p>Emergency & future goals</p>
                            </div>
                        </div>
                        <div class="flow-arrow-right">â†’</div>
                        <div class="flow-step">
                            <div class="flow-step-number">4</div>
                            <div class="flow-step-content">
                                <div class="flow-step-icon">ðŸ“ˆ</div>
                                <h4>Invest & Grow</h4>
                                <p>Rebalance portfolio</p>
                            </div>
                        </div>
                    </div>

                    <div class="savings-container">
                        <!-- Step 1: Income Input -->
                        <div class="savings-card step-card">
                            <div class="step-header">
                                <span class="step-badge">Step 1</span>
                                <h3 class="card-title">ðŸ’µ Enter Your Monthly Income</h3>
                            </div>
                            <div class="income-input-row">
                                <div class="input-group-inline">
                                    <label for="monthlyIncome">ðŸ’¼ Primary Income</label>
                                    <div class="input-with-currency">
                                        <span class="currency-symbol">$</span>
                                        <input type="number" id="monthlyIncome" placeholder="3,000" value="3000">
                                    </div>
                                </div>
                                <div class="input-group-inline">
                                    <label for="otherIncome">ðŸ’° Other Income</label>
                                    <div class="input-with-currency">
                                        <span class="currency-symbol">$</span>
                                        <input type="number" id="otherIncome" placeholder="500" value="500">
                                    </div>
                                </div>
                                <div class="total-income-display">
                                    <div class="total-label">Total Monthly Income</div>
                                    <div class="total-value" id="totalIncome">$3,500</div>
                                </div>
                            </div>
                        </div>

                        <!-- Spending & Savings Allocation -->
                        <div class="savings-card">
                            <h3 class="card-title">ðŸ“Š Spending & Savings Allocation</h3>
                            <div class="allocation-grid">
                                <div class="allocation-item">
                                    <label for="monthlySpending">Monthly Spending (%)</label>
                                    <input type="range" id="monthlySpending" min="0" max="100" value="23.26" step="0.1">
                                    <span class="allocation-value" id="monthlySpendingValue">23.26%</span>
                                    <div class="allocation-amount" id="monthlySpendingAmount">20,000,000 VND</div>
                                </div>
                                <div class="allocation-item">
                                    <label for="emergencyFund">Emergency Fund (%)</label>
                                    <input type="range" id="emergencyFund" min="0" max="100" value="69.77" step="0.1">
                                    <span class="allocation-value" id="emergencyFundValue">69.77%</span>
                                    <div class="allocation-amount" id="emergencyFundAmount">60,000,000 VND</div>
                                </div>
                                <div class="allocation-item">
                                    <label for="otherExpenses">Other Expenses (%)</label>
                                    <input type="range" id="otherExpenses" min="0" max="100" value="6.98" step="0.1">
                                    <span class="allocation-value" id="otherExpensesValue">6.98%</span>
                                    <div class="allocation-amount" id="otherExpensesAmount">6,000,000 VND</div>
                                </div>
                            </div>
                            <div class="allocation-summary">
                                <div class="summary-item">
                                    <span>Total Allocated:</span>
                                    <strong id="totalAllocatedPercent">100%</strong>
                                </div>
                                <div class="summary-item">
                                    <span>Remaining:</span>
                                    <strong id="remainingAmount" class="success">0 VND</strong>
                                </div>
                            </div>
                        </div>

                        <!-- Emergency Fund Goal -->
                        <div class="savings-card">
                            <h3 class="card-title">ðŸš¨ Emergency Fund Goal</h3>
                            <div class="input-grid">
                                <div class="input-group">
                                    <label for="emergencyTarget">Target Amount (VND)</label>
                                    <input type="number" id="emergencyTarget" placeholder="240,000,000" value="240000000">
                                </div>
                                <div class="input-group">
                                    <label for="emergencyCurrent">Current Savings (VND)</label>
                                    <input type="number" id="emergencyCurrent" placeholder="0" value="0">
                                </div>
                                <div class="result-group">
                                    <label>Gap to Target</label>
                                    <div class="result-value danger" id="emergencyGap">240,000,000 VND</div>
                                </div>
                                <div class="result-group">
                                    <label>Months to Reach Goal</label>
                                    <div class="result-value" id="monthsToGoal">4 months</div>
                                </div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="emergencyProgress" style="width: 0%"></div>
                            </div>
                            <p class="progress-text" id="emergencyProgressText">0% of emergency fund goal</p>
                        </div>

                        <!-- Sinking Funds -->
                        <div class="savings-card">
                            <h3 class="card-title">ðŸŽ¯ Sinking Funds (Future Goals)</h3>
                            <div class="input-grid">
                                <div class="input-group">
                                    <label for="sinkingTarget">Target Amount (VND)</label>
                                    <input type="number" id="sinkingTarget" placeholder="120,000,000" value="120000000">
                                </div>
                                <div class="input-group">
                                    <label for="sinkingCurrent">Current Savings (VND)</label>
                                    <input type="number" id="sinkingCurrent" placeholder="0" value="0">
                                </div>
                                <div class="result-group">
                                    <label>Gap to Target</label>
                                    <div class="result-value danger" id="sinkingGap">120,000,000 VND</div>
                                </div>
                            </div>
                        </div>

                        <!-- Financial Independence Goals -->
                        <div class="savings-card">
                            <h3 class="card-title">ðŸŽ“ Financial Goals</h3>
                            <div class="goals-grid">
                                <div class="goal-item">
                                    <div class="goal-label">Financial Security</div>
                                    <div class="goal-value" id="financialSecurity">10,800,000,000 VND</div>
                                    <div class="goal-desc">6 months emergency fund</div>
                                </div>
                                <div class="goal-item">
                                    <div class="goal-label">Financial Independence</div>
                                    <div class="goal-value" id="financialIndependence">32,400,000,000 VND</div>
                                    <div class="goal-desc">25x annual expenses</div>
                                </div>
                                <div class="goal-item">
                                    <div class="goal-label">Financial Freedom</div>
                                    <div class="goal-value" id="financialFreedom">Mindset + Independence</div>
                                    <div class="goal-desc">Living on passive income</div>
                                </div>
                            </div>
                        </div>

                        <!-- Investment Portfolio -->
                        <div class="savings-card">
                            <h3 class="card-title">ðŸ“ˆ Investment Portfolio Rebalancing</h3>
                            <div class="portfolio-grid">
                                <div class="portfolio-item">
                                    <label for="cryptoAllocation">Crypto (VND)</label>
                                    <input type="number" id="cryptoAllocation" placeholder="0" value="0">
                                </div>
                                <div class="portfolio-item">
                                    <label for="housingAllocation">Housing/Real Estate (VND)</label>
                                    <input type="number" id="housingAllocation" placeholder="0" value="0">
                                </div>
                                <div class="portfolio-item">
                                    <label for="stockAllocation">Stocks (VND)</label>
                                    <input type="number" id="stockAllocation" placeholder="0" value="0">
                                </div>
                            </div>
                            <div class="portfolio-summary">
                                <div class="summary-row">
                                    <span>Total Portfolio Value:</span>
                                    <strong id="totalPortfolio">0 VND</strong>
                                </div>
                                <div class="summary-row">
                                    <span>Recommended Rebalancing:</span>
                                    <span id="rebalanceStatus" class="info-text">Enter your portfolio values above</span>
                                </div>
                            </div>
                        </div>

                        <!-- Monthly Cash Flow Summary -->
                        <div class="savings-card highlight">
                            <h3 class="card-title">ðŸ“‹ Monthly Cash Flow Summary</h3>
                            <div class="flow-chart">
                                <div class="flow-item income">
                                    <div class="flow-label">Total Income</div>
                                    <div class="flow-value" id="summaryIncome">86,000,000 VND</div>
                                </div>
                                <div class="flow-arrow">â†’</div>
                                <div class="flow-breakdown">
                                    <div class="flow-sub-item">
                                        <span>Monthly Spending</span>
                                        <span id="summarySpending">20,000,000 VND</span>
                                    </div>
                                    <div class="flow-sub-item">
                                        <span>Emergency Fund</span>
                                        <span id="summaryEmergency">60,000,000 VND</span>
                                    </div>
                                    <div class="flow-sub-item">
                                        <span>Other Expenses</span>
                                        <span id="summaryOther">6,000,000 VND</span>
                                    </div>
                                </div>
                                <div class="flow-arrow">â†’</div>
                                <div class="flow-item savings">
                                    <div class="flow-label">Net Savings</div>
                                    <div class="flow-value" id="summaryNetSavings">0 VND</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Data provided by Yahoo Finance & CoinGecko API</p>
        </footer>
    </div>

    <!-- Chart Popup -->
    <div id="chartPopup" class="chart-popup" style="display: none;">
        <div class="chart-popup-header">
            <div class="chart-popup-title">
                <span id="chartAssetName"></span>
                <span id="chartAssetSymbol"></span>
            </div>
            <div id="chartAssetPrice"></div>
        </div>
        <div class="chart-stats">
            <div class="stat-item">
                <span class="stat-label">High</span>
                <span id="chartHigh" class="stat-value high">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Low</span>
                <span id="chartLow" class="stat-value low">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Change</span>
                <span id="chartChange" class="stat-value">-</span>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="priceChart"></canvas>
        </div>
        <div class="chart-popup-footer">
            <span>24H Chart</span>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="savings-calc.js"></script>
</body>
</html>
